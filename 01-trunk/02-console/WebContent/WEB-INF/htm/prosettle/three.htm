<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="../../themes/icon.css"/>
<link rel="stylesheet" type="text/css" href="../../themes/demo.css"/>
<link rel="stylesheet" type="text/css" href="../../themes/default/easyui.css"/>

<script type="text/javascript" src="../../scripts/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="../../scripts/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../../scripts/general.js"></script>
<script type="text/javascript">
	$(function() {
		
		var bigProId = $.getUrlParam("bigProId");
		//
		$.ajax({
			url : '../../bigproject/getSmallProjectsByBigId.ajax',//待修改
			type : 'get',
			dataType : 'JSON',
			data : {
				bigProId : bigProId
			},
			success : function(data) {
				//alert(data.total);
				//var obj = $.parseJSON(data);
				//alert(obj.total);
				$('#query_result').datagrid('loadData',data);
			}
		});
	});
</script>
</head>
<body>
	<h2>Cell Editing in DataGrid</h2>  
    <p>Click a cell to start editing.</p>  
    <div style="margin:20px 0;"></div>  
    <table class="easyui-datagrid" title="" id="query_result"
						data-options="singleSelect:true,rownumbers:true"
						toolbar="#tb">
						<thead>
							<tr>
								
								<th data-options="field:'proId',width:100,align:'center'">大项目ID</th>
								<th data-options="field:'projectName',width:250,hidden:false,align:'center'">大项目名称</th>
								<th data-options="field:'proUnit',width:250,hidden:false,align:'center',sortable:'true'" >大项目创建时间</th>
								<th data-options="field:'proEntrustTime',width:250,hidden:false,align:'center',sortable:'true'" editor="numberbox">大项目创建人</th>
								
								
							</tr>
						</thead>
					</table>
      
   <!--  <table id="dg" class="easyui-datagrid" title="Cell Editing in DataGrid" style="width:700px;height:auto"  id="query_result"
            data-options="  
                iconCls: 'icon-edit',  
                singleSelect: true,  
                rownumbers:true
            ">  
        <thead>  
            <tr>  
                <th data-options="field:'proId',width:80">Item ID</th>  
                <th data-options="field:'projectName',width:100,editor:'text'">Product</th>  
                <th data-options="field:'proUnit',width:80,align:'right'">List Price</th>  
                <th data-options="field:'proEntrustTime',width:80,align:'right'">Unit Cost</th>  
                <th data-options="field:'proNum',width:250,editor:'text'">Attribute</th>  
                <th data-options="field:'proConpeople',width:60,align:'center'">Status</th>
                <th data-options="field:'proConntel',width:80">Item ID</th>  
            
            </tr>  
        </thead>  
    </table>  -->
	
	<script type="text/javascript">
	/* $.extend($.fn.datagrid.methods, {  
        editCell: function(jq,param){  
            return jq.each(function(){  
                var opts = $(this).datagrid('options');  
                var fields = $(this).datagrid('getColumnFields',true).concat($(this).datagrid('getColumnFields'));  
                for(var i=0; i<fields.length; i++){  
                    var col = $(this).datagrid('getColumnOption', fields[i]);  
                    col.editor1 = col.editor;  
                    if (fields[i] != param.field){  
                        col.editor = null;  
                    }  
                }  
                $(this).datagrid('beginEdit', param.index);  
                for(var i=0; i<fields.length; i++){  
                    var col = $(this).datagrid('getColumnOption', fields[i]);  
                    col.editor = col.editor1;  
                }  
            });  
        }  
    });  
      */
      /*
    var editIndex = undefined;  
    function endEditing(){  
        if (editIndex == undefined){return true}  
        if ($('#dg').datagrid('validateRow', editIndex)){  
            $('#dg').datagrid('endEdit', editIndex);  
            editIndex = undefined;  
            return true;  
        } else {  
            return false;  
        }  
    }  
    function onClickCell(index, field){  
        if (endEditing()){  
            $('#dg').datagrid('selectRow', index)  
                    .datagrid('editCell', {index:index,field:field});  
            editIndex = index;  
        }  
    }   */
	</script>
</body>
</html>